cscope 15 $HOME/private/eink_weather_clock/main               0000020509
	@eink_weather_clock.c

22 
	~<°döt.h
>

23 
	~<°dboﬁ.h
>

24 
	~<mÆloc.h
>

25 
	~<drivî/•i_ma°î.h
>

27 
	~"‰ìπos/FªeRTOS.h
"

28 
	~"‰ìπos/èsk.h
"

30 
	~"drivîs/EPD_2ö9_V2/EPD_2ö9_V2.h
"

31 
	~"drivîs/C⁄fig/DEV_C⁄fig.h
"

33 
	~"lvgl/lvgl.h
"

35 
	~"hÆ/GUI/GUI_Paöt.h
"

37 
	~"gui/gui.h
"

38 
	~"time/time_åackî.h
"

39 
	~"di•œy/di•œy.h
"

40 
	~"wifi.h
"

42 
	~"‰ìπos/FªeRTOS.h
"

43 
	~"‰ìπos/£mphr.h
"

44 
	~"hâp/hâp.h
"

46 
	~"lvgl/lvgl.h
"

47 
	~"èsks_c⁄fig.h
"

75 
lvgl_èsk
(* 
∑ømëîs
);

83 
QueueH™dÀ_t
 
hâp_q
;

96 
boﬁ
 
Êù_˛ock_≠p_°¨t
();

98 
	$≠p_maö
()

100 
	`Êù_˛ock_≠p_°¨t
();

101 
	}
}

104 
boﬁ
 
	$Êù_˛ock_≠p_°¨t
() {

107 
	`•i_öô
();

109 
boﬁ
 
suc˚ss
 = 
	`di•œy_öô
();

111 
suc˚ss
 = suc˚s†&& 
	`wifi_öô
();

113 
suc˚ss
 = suc˚s†&& 
	`hâp_öô
();

115 
	`as£π
(
suc˚ss
 && "Modules initialization failed");

117 
	`time_åackî_öô
();

118 
Ba£Ty≥_t
 
ªsu…
;

120 i‡(
suc˚ss
) {

121 
ªsu…
 = 
	`xTaskCª©e
(
lvgl_èsk
,

123 
TASKS_CONFIG_LVGL_STACK_DEPTH
,

124 
NULL
,

126 
NULL
);

128 
suc˚ss
 = (
pdPASS
 =
ªsu…
);

131  
suc˚ss
;

132 
	}
}

146 
	$lvgl_èsk
(* 
∑ømëîs
)

151 
	`lv_èsk_h™dÀr
();

152 
	`lv_tick_öc
(1000);

153 
	`vTaskDñay
(1000 / 
p‹tTICK_PERIOD_MS
);

156 
	}
}

	@flipclock.c

7 #ifde‡
LV_LVGL_H_INCLUDE_SIMPLE


8 
	~"lvgl.h
"

10 
	~"lvgl/lvgl.h
"

13 #i‚de‡
FLIPCLOCK


14 
	#FLIPCLOCK
 1

	)

17 #i‡
FLIPCLOCK


24 
LV_ATTRIBUTE_LARGE_CONST
 c⁄° 
uöt8_t
 
	gglyph_bôm≠
[] = {

849 c⁄° 
lv_f⁄t_fmt_txt_glyph_dsc_t
 
	gglyph_dsc
[] = {

850 {.
bôm≠_ödex
 = 0, .
	gadv_w
 = 0, .
	gbox_w
 = 0, .
	gbox_h
 = 0, .
	gofs_x
 = 0, .
	gofs_y
 = 0} ,

851 {.
	gbôm≠_ödex
 = 0, .
	gadv_w
 = 1024, .
	gbox_w
 = 52, .
	gbox_h
 = 98, .
	gofs_x
 = 6, .
	gofs_y
 = -2},

852 {.
	gbôm≠_ödex
 = 637, .
	gadv_w
 = 1024, .
	gbox_w
 = 40, .
	gbox_h
 = 96, .
	gofs_x
 = 5, .
	gofs_y
 = 0},

853 {.
	gbôm≠_ödex
 = 1117, .
	gadv_w
 = 1024, .
	gbox_w
 = 54, .
	gbox_h
 = 96, .
	gofs_x
 = 4, .
	gofs_y
 = 0},

854 {.
	gbôm≠_ödex
 = 1765, .
	gadv_w
 = 1024, .
	gbox_w
 = 54, .
	gbox_h
 = 98, .
	gofs_x
 = 4, .
	gofs_y
 = -2},

855 {.
	gbôm≠_ödex
 = 2427, .
	gadv_w
 = 1024, .
	gbox_w
 = 57, .
	gbox_h
 = 95, .
	gofs_x
 = 3, .
	gofs_y
 = -1},

856 {.
	gbôm≠_ödex
 = 3104, .
	gadv_w
 = 1024, .
	gbox_w
 = 54, .
	gbox_h
 = 96, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

857 {.
	gbôm≠_ödex
 = 3752, .
	gadv_w
 = 1024, .
	gbox_w
 = 53, .
	gbox_h
 = 98, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

858 {.
	gbôm≠_ödex
 = 4402, .
	gadv_w
 = 1024, .
	gbox_w
 = 54, .
	gbox_h
 = 95, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

859 {.
	gbôm≠_ödex
 = 5044, .
	gadv_w
 = 1024, .
	gbox_w
 = 54, .
	gbox_h
 = 98, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

860 {.
	gbôm≠_ödex
 = 5706, .
	gadv_w
 = 1024, .
	gbox_w
 = 53, .
	gbox_h
 = 98, .
	gofs_x
 = 5, .
	gofs_y
 = -2}

870 c⁄° 
lv_f⁄t_fmt_txt_cm≠_t
 
	gcm≠s
[] =

873 .
ønge_°¨t
 = 48, .
	gønge_Àngth
 = 10, .
	gglyph_id_°¨t
 = 1,

874 .
	gunicode_li°
 = 
NULL
, .
	gglyph_id_ofs_li°
 = NULL, .
	gli°_Àngth
 = 0, .
	gty≥
 = 
LV_FONT_FMT_TXT_CMAP_FORMAT0_TINY


884 #i‡
LV_VERSION_CHECK
(8, 0, 0)

886 
lv_f⁄t_fmt_txt_glyph_ˇche_t
 
	gˇche
;

887 c⁄° 
lv_f⁄t_fmt_txt_dsc_t
 
	gf⁄t_dsc
 = {

889 
lv_f⁄t_fmt_txt_dsc_t
 
f⁄t_dsc
 = {

891 .
glyph_bôm≠
 = glyph_bitmap,

892 .
	gglyph_dsc
 = 
glyph_dsc
,

893 .
	gcm≠s
 = 
cm≠s
,

894 .
	gkîn_dsc
 = 
NULL
,

895 .
	gkîn_sˇÀ
 = 0,

896 .
	gcm≠_num
 = 1,

897 .
	gbµ
 = 1,

898 .
	gkîn_˛as£s
 = 0,

899 .
	gbôm≠_f‹m©
 = 0,

900 #i‡
LV_VERSION_CHECK
(8, 0, 0)

901 .
	gˇche
 = &
ˇche


911 #i‡
LV_VERSION_CHECK
(8, 0, 0)

912 c⁄° 
lv_f⁄t_t
 
	gÊù˛ock
 = {

914 
lv_f⁄t_t
 
Êù˛ock
 = {

916 .
gë_glyph_dsc
 = 
lv_f⁄t_gë_glyph_dsc_fmt_txt
,

917 .
	ggë_glyph_bôm≠
 = 
lv_f⁄t_gë_bôm≠_fmt_txt
,

918 .
	glöe_height
 = 98,

919 .
	gba£_löe
 = 2,

920 #i‡!(
LVGL_VERSION_MAJOR
 =6 && 
LVGL_VERSION_MINOR
 == 0)

921 .
	gsubpx
 = 
LV_FONT_SUBPX_NONE
,

923 #i‡
LV_VERSION_CHECK
(7, 4, 0Ë|| 
LVGL_VERSION_MAJOR
 >= 8

924 .
	gundîlöe_posôi⁄
 = -10,

925 .
	gundîlöe_thick√ss
 = 6,

927 .
	gdsc
 = &
f⁄t_dsc


	@flipclock_110.c

7 #ifde‡
LV_LVGL_H_INCLUDE_SIMPLE


8 
	~"lvgl.h
"

10 
	~"lvgl/lvgl.h
"

13 #i‚de‡
FLIPCLOCK_110


14 
	#FLIPCLOCK_110
 1

	)

17 #i‡
FLIPCLOCK_110


24 
LV_ATTRIBUTE_LARGE_CONST
 c⁄° 
uöt8_t
 
	gglyph_bôm≠
[] = {

663 c⁄° 
lv_f⁄t_fmt_txt_glyph_dsc_t
 
	gglyph_dsc
[] = {

664 {.
bôm≠_ödex
 = 0, .
	gadv_w
 = 0, .
	gbox_w
 = 0, .
	gbox_h
 = 0, .
	gofs_x
 = 0, .
	gofs_y
 = 0} ,

665 {.
	gbôm≠_ödex
 = 0, .
	gadv_w
 = 880, .
	gbox_w
 = 44, .
	gbox_h
 = 85, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

666 {.
	gbôm≠_ödex
 = 468, .
	gadv_w
 = 880, .
	gbox_w
 = 34, .
	gbox_h
 = 83, .
	gofs_x
 = 4, .
	gofs_y
 = 0},

667 {.
	gbôm≠_ödex
 = 821, .
	gadv_w
 = 880, .
	gbox_w
 = 46, .
	gbox_h
 = 83, .
	gofs_x
 = 4, .
	gofs_y
 = 0},

668 {.
	gbôm≠_ödex
 = 1299, .
	gadv_w
 = 880, .
	gbox_w
 = 47, .
	gbox_h
 = 85, .
	gofs_x
 = 3, .
	gofs_y
 = -2},

669 {.
	gbôm≠_ödex
 = 1799, .
	gadv_w
 = 880, .
	gbox_w
 = 49, .
	gbox_h
 = 82, .
	gofs_x
 = 3, .
	gofs_y
 = 0},

670 {.
	gbôm≠_ödex
 = 2302, .
	gadv_w
 = 880, .
	gbox_w
 = 47, .
	gbox_h
 = 83, .
	gofs_x
 = 4, .
	gofs_y
 = -2},

671 {.
	gbôm≠_ödex
 = 2790, .
	gadv_w
 = 880, .
	gbox_w
 = 46, .
	gbox_h
 = 85, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

672 {.
	gbôm≠_ödex
 = 3279, .
	gadv_w
 = 880, .
	gbox_w
 = 46, .
	gbox_h
 = 82, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

673 {.
	gbôm≠_ödex
 = 3751, .
	gadv_w
 = 880, .
	gbox_w
 = 46, .
	gbox_h
 = 85, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

674 {.
	gbôm≠_ödex
 = 4240, .
	gadv_w
 = 880, .
	gbox_w
 = 46, .
	gbox_h
 = 85, .
	gofs_x
 = 5, .
	gofs_y
 = -2},

675 {.
	gbôm≠_ödex
 = 4729, .
	gadv_w
 = 489, .
	gbox_w
 = 14, .
	gbox_h
 = 61, .
	gofs_x
 = 8, .
	gofs_y
 = 0}

685 c⁄° 
lv_f⁄t_fmt_txt_cm≠_t
 
	gcm≠s
[] =

688 .
ønge_°¨t
 = 48, .
	gønge_Àngth
 = 11, .
	gglyph_id_°¨t
 = 1,

689 .
	gunicode_li°
 = 
NULL
, .
	gglyph_id_ofs_li°
 = NULL, .
	gli°_Àngth
 = 0, .
	gty≥
 = 
LV_FONT_FMT_TXT_CMAP_FORMAT0_TINY


699 #i‡
LV_VERSION_CHECK
(8, 0, 0)

701 
lv_f⁄t_fmt_txt_glyph_ˇche_t
 
	gˇche
;

702 c⁄° 
lv_f⁄t_fmt_txt_dsc_t
 
	gf⁄t_dsc
 = {

704 
lv_f⁄t_fmt_txt_dsc_t
 
f⁄t_dsc
 = {

706 .
glyph_bôm≠
 = glyph_bitmap,

707 .
	gglyph_dsc
 = 
glyph_dsc
,

708 .
	gcm≠s
 = 
cm≠s
,

709 .
	gkîn_dsc
 = 
NULL
,

710 .
	gkîn_sˇÀ
 = 0,

711 .
	gcm≠_num
 = 1,

712 .
	gbµ
 = 1,

713 .
	gkîn_˛as£s
 = 0,

714 .
	gbôm≠_f‹m©
 = 0,

715 #i‡
LV_VERSION_CHECK
(8, 0, 0)

716 .
	gˇche
 = &
ˇche


726 #i‡
LV_VERSION_CHECK
(8, 0, 0)

727 c⁄° 
lv_f⁄t_t
 
	gÊù˛ock_110
 = {

729 
lv_f⁄t_t
 
Êù˛ock_110
 = {

731 .
gë_glyph_dsc
 = 
lv_f⁄t_gë_glyph_dsc_fmt_txt
,

732 .
	ggë_glyph_bôm≠
 = 
lv_f⁄t_gë_bôm≠_fmt_txt
,

733 .
	glöe_height
 = 85,

734 .
	gba£_löe
 = 2,

735 #i‡!(
LVGL_VERSION_MAJOR
 =6 && 
LVGL_VERSION_MINOR
 == 0)

736 .
	gsubpx
 = 
LV_FONT_SUBPX_NONE
,

738 #i‡
LV_VERSION_CHECK
(7, 4, 0Ë|| 
LVGL_VERSION_MAJOR
 >= 8

739 .
	gundîlöe_posôi⁄
 = -8,

740 .
	gundîlöe_thick√ss
 = 6,

742 .
	gdsc
 = &
f⁄t_dsc


	@flipclock_88.c

7 #ifde‡
LV_LVGL_H_INCLUDE_SIMPLE


8 
	~"lvgl.h
"

10 
	~"lvgl/lvgl.h
"

13 #i‚de‡
FLIPCLOCK_88


14 
	#FLIPCLOCK_88
 1

	)

17 #i‡
FLIPCLOCK_88


24 
LV_ATTRIBUTE_LARGE_CONST
 c⁄° 
uöt8_t
 
	gglyph_bôm≠
[] = {

441 c⁄° 
lv_f⁄t_fmt_txt_glyph_dsc_t
 
	gglyph_dsc
[] = {

442 {.
bôm≠_ödex
 = 0, .
	gadv_w
 = 0, .
	gbox_w
 = 0, .
	gbox_h
 = 0, .
	gofs_x
 = 0, .
	gofs_y
 = 0} ,

443 {.
	gbôm≠_ödex
 = 0, .
	gadv_w
 = 704, .
	gbox_w
 = 35, .
	gbox_h
 = 67, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

444 {.
	gbôm≠_ödex
 = 294, .
	gadv_w
 = 704, .
	gbox_w
 = 27, .
	gbox_h
 = 66, .
	gofs_x
 = 4, .
	gofs_y
 = 0},

445 {.
	gbôm≠_ödex
 = 517, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 66, .
	gofs_x
 = 3, .
	gofs_y
 = 0},

446 {.
	gbôm≠_ödex
 = 823, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 67, .
	gofs_x
 = 2, .
	gofs_y
 = -1},

447 {.
	gbôm≠_ödex
 = 1133, .
	gadv_w
 = 704, .
	gbox_w
 = 39, .
	gbox_h
 = 66, .
	gofs_x
 = 2, .
	gofs_y
 = -1},

448 {.
	gbôm≠_ödex
 = 1455, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 66, .
	gofs_x
 = 3, .
	gofs_y
 = -1},

449 {.
	gbôm≠_ödex
 = 1761, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 67, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

450 {.
	gbôm≠_ödex
 = 2071, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 65, .
	gofs_x
 = 3, .
	gofs_y
 = -1},

451 {.
	gbôm≠_ödex
 = 2372, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 67, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

452 {.
	gbôm≠_ödex
 = 2682, .
	gadv_w
 = 704, .
	gbox_w
 = 37, .
	gbox_h
 = 68, .
	gofs_x
 = 4, .
	gofs_y
 = -1},

453 {.
	gbôm≠_ödex
 = 2997, .
	gadv_w
 = 391, .
	gbox_w
 = 11, .
	gbox_h
 = 49, .
	gofs_x
 = 6, .
	gofs_y
 = 0}

463 c⁄° 
lv_f⁄t_fmt_txt_cm≠_t
 
	gcm≠s
[] =

466 .
ønge_°¨t
 = 48, .
	gønge_Àngth
 = 11, .
	gglyph_id_°¨t
 = 1,

467 .
	gunicode_li°
 = 
NULL
, .
	gglyph_id_ofs_li°
 = NULL, .
	gli°_Àngth
 = 0, .
	gty≥
 = 
LV_FONT_FMT_TXT_CMAP_FORMAT0_TINY


477 #i‡
LV_VERSION_CHECK
(8, 0, 0)

479 
lv_f⁄t_fmt_txt_glyph_ˇche_t
 
	gˇche
;

480 c⁄° 
lv_f⁄t_fmt_txt_dsc_t
 
	gf⁄t_dsc
 = {

482 
lv_f⁄t_fmt_txt_dsc_t
 
f⁄t_dsc
 = {

484 .
glyph_bôm≠
 = glyph_bitmap,

485 .
	gglyph_dsc
 = 
glyph_dsc
,

486 .
	gcm≠s
 = 
cm≠s
,

487 .
	gkîn_dsc
 = 
NULL
,

488 .
	gkîn_sˇÀ
 = 0,

489 .
	gcm≠_num
 = 1,

490 .
	gbµ
 = 1,

491 .
	gkîn_˛as£s
 = 0,

492 .
	gbôm≠_f‹m©
 = 0,

493 #i‡
LV_VERSION_CHECK
(8, 0, 0)

494 .
	gˇche
 = &
ˇche


504 #i‡
LV_VERSION_CHECK
(8, 0, 0)

505 c⁄° 
lv_f⁄t_t
 
	gÊù˛ock_88
 = {

507 
lv_f⁄t_t
 
Êù˛ock_88
 = {

509 .
gë_glyph_dsc
 = 
lv_f⁄t_gë_glyph_dsc_fmt_txt
,

510 .
	ggë_glyph_bôm≠
 = 
lv_f⁄t_gë_bôm≠_fmt_txt
,

511 .
	glöe_height
 = 68,

512 .
	gba£_löe
 = 1,

513 #i‡!(
LVGL_VERSION_MAJOR
 =6 && 
LVGL_VERSION_MINOR
 == 0)

514 .
	gsubpx
 = 
LV_FONT_SUBPX_NONE
,

516 #i‡
LV_VERSION_CHECK
(7, 4, 0Ë|| 
LVGL_VERSION_MAJOR
 >= 8

517 .
	gundîlöe_posôi⁄
 = -7,

518 .
	gundîlöe_thick√ss
 = 4,

520 .
	gdsc
 = &
f⁄t_dsc


	@tasks_config.h

16 #i‚de‡
TASKS_CONFIG_H


17 
	#TASKS_CONFIG_H


	)

26 
	#TASKS_CONFIG_DISPLAY_PRIORITY
 (1)

	)

27 
	#TASKS_CONFIG_LVGL_PRIORITY
 (2)

	)

28 
	#TASKS_CONFIG_HTTP_PRIORITY
 (3)

	)

30 
	#TASKS_CONFIG_DISPLAY_STACK_DEPTH
 (2 * 1024)

	)

31 
	#TASKS_CONFIG_LVGL_STACK_DEPTH
 (4 * 1024)

	)

32 
	#TASKS_CONFIG_HTTP_STACK_DEPTH
 (3 * 1024)

	)

34 
	#TASKS_CONFIG_DISPLAY_REFRESH_RATE_MS
 (1000)

	)

35 
	#TASKS_CONFIG_LVGL_REFRESH_RATE_MS
 (100)

	)

36 
	#TASKS_CONFIG_HTTP_REFRESH_RATE_MS
 (100)

	)

	@wifi.c

22 
	~<°dboﬁ.h
>

23 
	~<°döt.h
>

24 
	~<e•_log.h
>

25 
	~"e•_sy°em.h
"

26 
	~"e•_‰ìπos_hooks.h
"

27 
	~"‰ìπos/FªeRTOS.h
"

28 
	~"‰ìπos/èsk.h
"

29 
	~"‰ìπos/timîs.h
"

31 
	~"e•_wifi.h
"

32 
	~"e•_√tif.h
"

33 
	~"e•_hâp_˛õ¡.h
"

35 
	~"wifi_m™agî.h
"

36 
	~"wifi.h
"

37 
	~"hâp/hâp.h
"

45 
	#TAG
 "WiFi"

	)

65 
evít_h™dÀr
(* 
¨g
, 
e•_evít_ba£_t
 
evít_ba£
,

66 
öt32_t
 
evít_id
, * 
evít_d©a
);

68 
wifi_ªp‹t_°©us
();

70 
wifi_£t_c⁄√˘i⁄_°©us_a˘ive
(* 
p_∑øm
);

72 
wifi_£t_c⁄√˘i⁄_°©us_öa˘ive
(* 
p_∑øm
);

79 
xQueueH™dÀ
 
di•œy_q
;

87 
wifi_°©us_t
 
	gm_wifi_°©us
 = 
WIFI_STATUS_DISCONNECTED
;

89 
TimîH™dÀ_t
 
	gm_wifi_°©us_timî
 = 
NULL
;

97 
boﬁ
 
	$wifi_öô
()

99 
Ba£Ty≥_t
 
timî_ªsu…
;

100 
boﬁ
 
suc˚ss
;

102 
	`wifi_m™agî_°¨t
();

104 
	`wifi_m™agî_£t_ˇŒback
(
WM_EVENT_STA_GOT_IP
, 
wifi_£t_c⁄√˘i⁄_°©us_a˘ive
);

105 
	`wifi_m™agî_£t_ˇŒback
(
WM_EVENT_STA_DISCONNECTED
, 
wifi_£t_c⁄√˘i⁄_°©us_öa˘ive
);

107 
m_wifi_°©us_timî
 = 
	`xTimîCª©e
("wifi_status",

108 
	`pdMS_TO_TICKS
(3000),

109 
pdTRUE
,

110 
NULL
,

111 
wifi_ªp‹t_°©us
);

114 
suc˚ss
 = (
NULL
 !
m_wifi_°©us_timî
);

116 i‡(
suc˚ss
) {

117 
timî_ªsu…
 = 
	`xTimîSèπ
(
m_wifi_°©us_timî
, 0);

119 
suc˚ss
 = (
pdPASS
 =
timî_ªsu…
);

122  
suc˚ss
;

123 
	}
}

125 
wifi_°©us_t
 
	$wifi_gë_°©us
() {

126  
m_wifi_°©us
;

127 
	}
}

135 
	$wifi_£t_c⁄√˘i⁄_°©us_öa˘ive
(* 
p_∑øm
)

137 ()
p_∑øm
;

138 
m_wifi_°©us
 = 
WIFI_STATUS_DISCONNECTED
;

140 
	`wifi_ªp‹t_°©us
();

141 
	}
}

143 
	$wifi_£t_c⁄√˘i⁄_°©us_a˘ive
(* 
p_∑øm
)

145 ()
p_∑øm
;

146 
m_wifi_°©us
 = 
WIFI_STATUS_CONNECTED
;

148 
	`wifi_ªp‹t_°©us
();

149 
	}
}

157 
	$wifi_ªp‹t_°©us
()

159 
wifi_≠_ªc‹d_t
 
≠
;

160 
t˝ù_ad≠ãr_ù_öfo_t
 
ù_öfo
;

184 
	}
}

	@wifi.h

17 #i‚de‡
WIFI_H


18 
	#WIFI_H


	)

34 
	mWIFI_STATUS_CONNECTED
 = 0,

35 
	mWIFI_STATUS_DISCONNECTED
,

36 
	mWIFI_STATUS_FAILED
,

37 
	mWIFI_STATUS_COUNT


38 } 
	twifi_°©us_t
;

53 
boﬁ
 
wifi_öô
();

55 
wifi_°©us_t
 
wifi_gë_°©us
();

	@display/display.h

16 #i‚de‡
DISPLAY_H


17 
	#DISPLAY_H


	)

33 
uöt8_t
 
	mhours
;

34 
uöt8_t
 
	mmö
;

35 } 
	tmy_time_t
;

38 
öt32_t
 
	mmaximum
;

39 
öt32_t
 
	mmöimum
;

40 
öt32_t
 
	mcuºít
;

41 } 
	tãm≥øtuª_t
;

44 
	mWEATHER_SUNNY
 = 0,

45 
	mWEATHER_PARTLY_CLOUDY
,

46 
	mWEATHER_CLOUDY
,

47 
	mWEATHER_OVERCAST
,

48 
	mWEATHER_CLOUDY_LIGHT_SHOWERS
,

49 
	mWEATHER_CLOUDY_SHOWERS
,

50 
	mWEATHER_CLOUDY_HEAVY
,

51 
	mWEATHER_PARTLY_CLOUDY_LIGHT_SHOWERS
,

52 
	mWEATHER_PARTLY_CLOUDY_SHOWERS
,

53 
	mWEATHER_PARTLY_CLOUDY_HEAVY
,

54 
	mWEATHER_THUNDERSTORM
,

55 
	mWEATHER_LIGHT_SNOW_SHOWER
,

56 
	mWEATHER_HEAVY_SNOW_SHOWER
,

57 
	mWEATHER_MIST
,

58 
	mWEATHER_COUNT


59 } 
	twóthî_t
;

62 
	mDISPLAY_MSG_SET_TIME
 = 0,

63 
	mDISPLAY_MSG_SET_WEATHER
,

64 
	mDISPLAY_MSG_SET_TEMPERATURE
,

65 
	mDISPLAY_MSG_SET_HUMIDITY
,

66 
	mDISPLAY_MSG_COUNT


67 } 
	tdi•œy_msg_ty≥_t
;

70 
di•œy_msg_ty≥_t
 
	mty≥
;

72 
time_t
 
	mtime
;

73 
wóthî_t
 
	mwóthî
;

74 
ãm≥øtuª_t
 * 
	mãm≥øtuª
;

75 
öt32_t
 
	mhumidôy
;

77 } 
	tdi•œy_msg_t
;

92 
boﬁ
 
di•œy_öô
();

94 
boﬁ
 
di•œy_£t_time
(
time_t
 c⁄° 
p_time
);

96 
boﬁ
 
di•œy_£t_wóthî
(
wóthî_t
 c⁄° 
wóthî
);

98 
boﬁ
 
di•œy_£t_ãm≥øtuª
(
ãm≥øtuª_t
 c⁄° * 
p_ãm≥øtuª
);

100 
boﬁ
 
di•œy_£t_humidôy
(
öt32_t
 c⁄° 
humidôy
);

	@drivers/Config/DEV_Config.h

48 #i‚de‡
_DEV_CONFIG_H_


49 
	#_DEV_CONFIG_H_


	)

51 
	~<°döt.h
>

52 
	~<°dio.h
>

53 
	~"drivî/gpio.h
"

54 
	~"drivîs/•i/•i.h
"

55 
	~"‰ìπos/FªeRTOS.h
"

56 
	~"‰ìπos/èsk.h
"

60 
	#UBYTE
 
uöt8_t


	)

61 
	#UWORD
 
uöt16_t


	)

62 
	#UDOUBLE
 
uöt32_t


	)

67 
	#EPD_RST_PIN
 
SPI_RST


	)

68 
	#EPD_DC_PIN
 
SPI_DC


	)

69 
	#EPD_CS_PIN
 
SPI_CS


	)

70 
	#EPD_BUSY_PIN
 
SPI_BUSY


	)

72 
dñay_ms
(
x
);

77 
	#DEV_DigôÆ_Wrôe
(
_pö
, 
_vÆue
Ë
	`gpio_£t_Àvñ
(_pö, _vÆuê=0? 0 : 1)

	)

78 
	#DEV_DigôÆ_Ród
(
_pö
Ë
	`gpio_gë_Àvñ
(_pö)

	)

85 
	#DEV_Dñay_ms
(
__xms
Ë
	`dñay_ms
(__xms);

	)

87 
DEV_ModuÀ_Inô
();

88 
DEV_ModuÀ_Exô
();

89 
DEV_SPI_WrôeByã
(
UBYTE
 
vÆue
);

	@drivers/EPD_2in9_V2/EPD_2in9_V2.h

31 #i‚de‡
__EPD_2IN9_V2_H_


32 
	#__EPD_2IN9_V2_H_


	)

34 
	~"drivîs/C⁄fig/DEV_C⁄fig.h
"

37 
	#EPD_2IN9_V2_WIDTH
 128

	)

38 
	#EPD_2IN9_V2_HEIGHT
 296

	)

40 
EPD_2IN9_V2_Inô
();

41 
EPD_2IN9_V2_CÀ¨
();

42 
EPD_2IN9_V2_Di•œy
(
UBYTE
 *
Image
);

43 
EPD_2IN9_V2_Di•œy_Ba£
(
UBYTE
 *
Image
);

44 
EPD_2IN9_V2_Di•œy_P¨tül
(
UBYTE
 *
Image
);

45 
EPD_2IN9_V2_SÀï
();

	@gui/gui.h

16 #i‚de‡
GUI_H


17 
	#GUI_H


	)

25 
	~"gui_võws/gui_võw_maö.h
"

26 
	~"gui_c⁄åﬁ/gui_c⁄åﬁ_maö.h
"

47 
boﬁ
 
gui_öô
(
lv_di•_t
 * 
p_di•œy
);

	@hal/GUI/GUI_Paint.h

65 #i‚de‡
__GUI_PAINT_H


66 
	#__GUI_PAINT_H


	)

68 
	~"drivîs/C⁄fig/DEV_C⁄fig.h
"

69 
	~"f⁄ts/f⁄ts.h
"

75 
UBYTE
 *
	mImage
;

76 
UWORD
 
	mWidth
;

77 
UWORD
 
	mHeight
;

78 
UWORD
 
	mWidthMem‹y
;

79 
UWORD
 
	mHeightMem‹y
;

80 
UWORD
 
	mCﬁ‹
;

81 
UWORD
 
	mRŸ©e
;

82 
UWORD
 
	mMúr‹
;

83 
UWORD
 
	mWidthByã
;

84 
UWORD
 
	mHeightByã
;

85 
UWORD
 
	mSˇÀ
;

86 } 
	tPAINT
;

87 
PAINT
 
Paöt
;

92 
	#ROTATE_0
 0

	)

93 
	#ROTATE_90
 90

	)

94 
	#ROTATE_180
 180

	)

95 
	#ROTATE_270
 270

	)

101 
	mMIRROR_NONE
 = 0x00,

102 
	mMIRROR_HORIZONTAL
 = 0x01,

103 
	mMIRROR_VERTICAL
 = 0x02,

104 
	mMIRROR_ORIGIN
 = 0x03,

105 } 
	tMIRROR_IMAGE
;

106 
	#MIRROR_IMAGE_DFT
 
MIRROR_NONE


	)

111 
	#WHITE
 0xFF

	)

112 
	#BLACK
 0x00

	)

113 
	#RED
 
BLACK


	)

115 
	#IMAGE_BACKGROUND
 
WHITE


	)

116 
	#FONT_FOREGROUND
 
BLACK


	)

117 
	#FONT_BACKGROUND
 
WHITE


	)

119 
	#TRUE
 1

	)

120 
	#FALSE
 0

	)

123 
	#GRAY1
 0x03

124 
	#GRAY2
 0x02

	)

125 
	#GRAY3
 0x01

126 
	#GRAY4
 0x00

127 

	)

131 
	mDOT_PIXEL_1X1
 = 1,

132 
	mDOT_PIXEL_2X2
 ,

133 
	mDOT_PIXEL_3X3
 ,

134 
	mDOT_PIXEL_4X4
 ,

135 
	mDOT_PIXEL_5X5
 ,

136 
	mDOT_PIXEL_6X6
 ,

137 
	mDOT_PIXEL_7X7
 ,

138 
	mDOT_PIXEL_8X8
 ,

139 } 
	tDOT_PIXEL
;

140 
	#DOT_PIXEL_DFT
 
DOT_PIXEL_1X1


141 

	)

146 
	mDOT_FILL_AROUND
 = 1,

147 
	mDOT_FILL_RIGHTUP
 ,

148 } 
	tDOT_STYLE
;

149 
	#DOT_STYLE_DFT
 
DOT_FILL_AROUND


150 

	)

155 
	mLINE_STYLE_SOLID
 = 0,

156 
	mLINE_STYLE_DOTTED
,

157 } 
	tLINE_STYLE
;

163 
	mDRAW_FILL_EMPTY
 = 0,

164 
	mDRAW_FILL_FULL
,

165 } 
	tDRAW_FILL
;

171 
UWORD
 
	mYór
;

172 
UBYTE
 
	mM⁄th
;

173 
UBYTE
 
	mDay
;

174 
UBYTE
 
	mHour
;

175 
UBYTE
 
	mMö
;

176 
UBYTE
 
	mSec
;

177 } 
	tPAINT_TIME
;

178 
PAINT_TIME
 
sPaöt_time
;

181 
Paöt_NewImage
(
UBYTE
 *
image
, 
UWORD
 
Width
, UWORD 
Height
, UWORD 
RŸ©e
, UWORD 
Cﬁ‹
);

182 
Paöt_Sñe˘Image
(
UBYTE
 *
image
);

183 
Paöt_SëRŸ©e
(
UWORD
 
RŸ©e
);

184 
Paöt_SëMúr‹ög
(
UBYTE
 
múr‹
);

185 
Paöt_SëPixñ
(
UWORD
 
Xpoöt
, UWORD 
Ypoöt
, UWORD 
Cﬁ‹
);

186 
Paöt_SëSˇÀ
(
UBYTE
 
sˇÀ
);

188 
Paöt_CÀ¨
(
UWORD
 
Cﬁ‹
);

189 
Paöt_CÀ¨Wödows
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, UWORD 
Xíd
, UWORD 
Yíd
, UWORD 
Cﬁ‹
);

192 
Paöt_DøwPoöt
(
UWORD
 
Xpoöt
, UWORD 
Ypoöt
, UWORD 
Cﬁ‹
, 
DOT_PIXEL
 
DŸ_Pixñ
, 
DOT_STYLE
 
DŸ_FûlWay
);

193 
Paöt_DøwLöe
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, UWORD 
Xíd
, UWORD 
Yíd
, UWORD 
Cﬁ‹
, 
DOT_PIXEL
 
Löe_width
, 
LINE_STYLE
 
Löe_StyÀ
);

194 
Paöt_DøwRe˘™gÀ
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, UWORD 
Xíd
, UWORD 
Yíd
, UWORD 
Cﬁ‹
, 
DOT_PIXEL
 
Löe_width
, 
DRAW_FILL
 
Døw_Fûl
);

195 
Paöt_DøwCú˛e
(
UWORD
 
X_Cíãr
, UWORD 
Y_Cíãr
, UWORD 
Radius
, UWORD 
Cﬁ‹
, 
DOT_PIXEL
 
Löe_width
, 
DRAW_FILL
 
Døw_Fûl
);

198 
Paöt_DøwCh¨
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, c⁄° 
Acsii_Ch¨
, 
sFONT
* 
F⁄t
, UWORD 
Cﬁ‹_F‹eground
, UWORD 
Cﬁ‹_Background
);

199 
Paöt_DøwSåög_EN
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, c⁄° * 
pSåög
, 
sFONT
* 
F⁄t
, UWORD 
Cﬁ‹_F‹eground
, UWORD 
Cﬁ‹_Background
);

200 
Paöt_DøwSåög_CN
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, c⁄° * 
pSåög
, 
cFONT
* 
f⁄t
, UWORD 
Cﬁ‹_F‹eground
, UWORD 
Cﬁ‹_Background
);

201 
Paöt_DøwNum
(
UWORD
 
Xpoöt
, UWORD 
Ypoöt
, 
öt32_t
 
Nummbî
, 
sFONT
* 
F⁄t
, UWORD 
Cﬁ‹_F‹eground
, UWORD 
Cﬁ‹_Background
);

202 
Paöt_DøwTime
(
UWORD
 
X°¨t
, UWORD 
Y°¨t
, 
PAINT_TIME
 *
pTime
, 
sFONT
* 
F⁄t
, UWORD 
Cﬁ‹_F‹eground
, UWORD 
Cﬁ‹_Background
);

205 
Paöt_DøwBôM≠
(c⁄° * 
image_buf„r
);

206 
Paöt_DøwBôM≠Sized
(c⁄° * 
image_buf„r
,

207 
UWORD
 
x_off£t
,

208 
UWORD
 
y_off£t
,

209 
UWORD
 
x_size
,

210 
UWORD
 
y_size
);

211 
Paöt_DøwBôM≠_Pa°e
(c⁄° * 
image_buf„r
, 
UWORD
 
X°¨t
, UWORD 
Y°¨t
, UWORD 
imageWidth
, UWORD 
imageHeight
, 
UBYTE
 
ÊùCﬁ‹
);

215 
Paöt_DøwBôM≠_Block
(c⁄° * 
image_buf„r
, 
UBYTE
 
Regi⁄
);

	@http/http.h

16 #i‚de‡
HTTP_H


17 
	#HTTP_H


	)

26 
	~<°döt-gcc.h
>

35 
	mHTTP_MSG_GET_TIME
 = 0,

36 
	mHTTP_MSG_GET_WEATHER
,

37 
	mHTTP_MSG_COUNT


38 } 
	thâp_msg_ty≥_t
;

42 
hâp_msg_ty≥_t
 
	mty≥
;

43 } 
	thâp_msg_t
;

58 
boﬁ
 
hâp_öô
();

60 
boﬁ
 
hâp_£nd_mesßge
(
hâp_msg_ty≥_t
 c⁄° 
ty≥
, * 
vÆue
);

	@time/time_tracker.h

16 #i‚de‡
TIME_TRACKER_H


17 
	#TIME_TRACKER_H


	)

45 
boﬁ
 
time_åackî_öô
();

47 
time_åackî_upd©e_time
(
time_t
 c⁄° 
time
);

	@drivers/spi/spi.h

16 #i‚de‡
SPI_H


17 
	#SPI_H


	)

25 
	#SPI_CLK
 (17)

	)

27 
	#SPI_MOSI
 (33)

	)

28 
	#SPI_CS
 (16)

	)

29 
	#SPI_RST
 (26)

30 
	#SPI_BUSY
 (12)

31 
	#SPI_DC
 (27)

	)

54 
boﬁ
 
•i_öô
();

57 
boﬁ
 
eök_•i_x„r
(
uöt8_t
 c⁄° * c⁄° 
rx_buf„r
, 
size_t
 c⁄° 
size
);

	@fonts/fonts.h

39 #i‚de‡
__FONTS_H


40 
	#__FONTS_H


	)

43 
	#MAX_HEIGHT_FONT
 41

	)

44 
	#MAX_WIDTH_FONT
 32

	)

45 
	#OFFSET_BITMAP


	)

47 #ifde‡
__˝lu•lus


52 
	~<°döt.h
>

55 
	s_tF⁄t


57 c⁄° 
uöt8_t
 *
èbÀ
;

58 
uöt16_t
 
Width
;

59 
uöt16_t
 
Height
;

61 } 
	tsFONT
;

67 
ödex
[2];

68 c⁄° 
m©rix
[
MAX_HEIGHT_FONT
*
MAX_WIDTH_FONT
/8];

69 }
	tCH_CN
;

74 c⁄° 
CH_CN
 *
èbÀ
;

75 
uöt16_t
 
size
;

76 
uöt16_t
 
ASCII_Width
;

77 
uöt16_t
 
Width
;

78 
uöt16_t
 
Height
;

80 }
	tcFONT
;

82 
sFONT
 
F⁄t72
;

83 
sFONT
 
F⁄t24
;

84 
sFONT
 
F⁄t20
;

85 
sFONT
 
F⁄t16
;

86 
sFONT
 
F⁄t12
;

87 
sFONT
 
F⁄t8
;

89 
cFONT
 
F⁄t12CN
;

90 
cFONT
 
F⁄t24CN
;

91 #ifde‡
__˝lu•lus


	@
1
.
0
16
267
eink_weather_clock.c
flipclock.c
flipclock_110.c
flipclock_88.c
tasks_config.h
wifi.c
wifi.h
display/display.h
drivers/Config/DEV_Config.h
drivers/EPD_2in9_V2/EPD_2in9_V2.h
gui/gui.h
hal/GUI/GUI_Paint.h
http/http.h
time/time_tracker.h
drivers/spi/spi.h
fonts/fonts.h
